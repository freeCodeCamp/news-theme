<script>
    (function () {
        var stripe = Stripe('pk_live_E6Z6xPM8pEsJziHW905zpAvF');
        var checkoutLink = document.getElementById('checkout-link-sku_GvCnSmqAJ5bJKH');
        var checkoutButton = document.getElementById('checkout-button-sku_GvCnSmqAJ5bJKH');
        checkoutLink.addEventListener('click', donate);
        checkoutButton.addEventListener('click', donate);

        function donate() {
            stripe.redirectToCheckout({
                items: [{ sku: 'sku_GvCnSmqAJ5bJKH', quantity: 1 }],
                successUrl: 'https://www.freecodecamp.org/news/thank-you-for-donating/',
                cancelUrl: 'https://www.freecodecamp.org/news/',
            })
                .then(function (result) {
                    if (result.error) {
                        var displayError = document.getElementById('error-message');
                        displayError.textContent = result.error.message;
                    }
                });
        };
    })();
</script>
